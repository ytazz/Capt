<?xml version="1.0" encoding="utf-8"?>
<namespace name="enuvo4c">
  <attr unit_length="mm"/>
  <attr unit_mass  ="kg"/>

  <gravity accel="0.0 0.0 -1.0G"/>

  <mesh name="mesh_torso"   filename="body.stl"    visual="true" collision="false" stl_color="true"/>
  <mesh name="mesh_rodarm"  filename="rodarm.stl"  visual="true" collision="false" stl_color="true"/>
  <mesh name="mesh_rod"     filename="rod.stl"     visual="true" collision="false" stl_color="true"/>
  <mesh name="mesh_foot"    filename="foot.stl"    visual="true" collision="false" stl_color="true"/>
  
  <body name="torso" trn="0 0 650" dynamical="false" auto_mass="false" auto_tree="true" mass="5.000" center="-11 0 120" inertia="0.109 0.094 0.049">
    <connector name="c0"/>
    <connector name="c_mesh"/>
    <connector name="c_foot_r" trn="0 -85 0"/>
    <connector name="c_foot_l" trn="0  85 0"/>
    <connector name="c_rodarm_r1" trn="45*cos(+30deg)  -85+45*sin(+30deg)  0" rot="90deg@x*+30deg@y" />
    <connector name="c_rodarm_r2" trn="45*cos(+30deg)  -85+45*sin(+30deg)  0" rot="90deg@x*+30deg@y" />
    <connector name="c_rodarm_r3" trn="45*cos(-90deg)  -85+45*sin(-90deg)  0" rot="90deg@x*-90deg@y" />
    <connector name="c_rodarm_r4" trn="45*cos(-90deg)  -85+45*sin(-90deg)  0" rot="90deg@x*-90deg@y" />
    <connector name="c_rodarm_r5" trn="45*cos(+150deg) -85+45*sin(+150deg) 0" rot="90deg@x*+150deg@y"/>
    <connector name="c_rodarm_r6" trn="45*cos(+150deg) -85+45*sin(+150deg) 0" rot="90deg@x*+150deg@y"/>
    <connector name="c_rodarm_l1" trn="45*cos(-30deg)   85+45*sin(-30deg)  0" rot="90deg@x*-30deg@y" />
    <connector name="c_rodarm_l2" trn="45*cos(-30deg)   85+45*sin(-30deg)  0" rot="90deg@x*-30deg@y" />
    <connector name="c_rodarm_l3" trn="45*cos(+90deg)   85+45*sin(+90deg)  0" rot="90deg@x*+90deg@y" />
    <connector name="c_rodarm_l4" trn="45*cos(+90deg)   85+45*sin(+90deg)  0" rot="90deg@x*+90deg@y" />
    <connector name="c_rodarm_l5" trn="45*cos(-150deg)  85+45*sin(-150deg) 0" rot="90deg@x*-150deg@y"/>
    <connector name="c_rodarm_l6" trn="45*cos(-150deg)  85+45*sin(-150deg) 0" rot="90deg@x*-150deg@y"/>
  </body>

  <body name="rodarm_r1" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 -5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh" rot="180deg@x"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 -11.5"/>
  </body>
  <body name="rodarm_r2" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 11.5"/>
  </body>
  <body name="rodarm_r3" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 -5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh" rot="180deg@x"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 -11.5"/>
  </body>
  <body name="rodarm_r4" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 11.5"/>
  </body>
  <body name="rodarm_r5" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 -5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh" rot="180deg@x"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 -11.5"/>
  </body>
  <body name="rodarm_r6" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 11.5"/>
  </body>

  <body name="rodarm_l1" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 11.5"/>
  </body>
  <body name="rodarm_l2" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 -5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh" rot="180deg@x"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 -11.5"/>
  </body>
  <body name="rodarm_l3" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 11.5"/>
  </body>
  <body name="rodarm_l4" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 -5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh" rot="180deg@x"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 -11.5"/>
  </body>
  <body name="rodarm_l5" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 11.5"/>
  </body>
  <body name="rodarm_l6" trn="0 0 580" auto_mass="false" mass="0.022" center="63 0 -5" inertia="0.000000920 0.000028 0.000028">
    <connector name="c0"/>
    <connector name="c_mesh" rot="180deg@x"/>
    <connector name="c_torso"/>
    <connector name="c_rod" trn="50 0 -11.5"/>
  </body>
  
  <body name="foot_r" trn="0 -100 0" auto_mass="false" mass="0.340" center="0 0 14" inertia="0.000289 0.000752 0.000988">
    <connector name="c0"/>
    <connector name="c_mesh"/>
    <connector name="c_torso"/>
    <connector name="c_rod1" trn=" 11.00  50.00 35" rot="90deg@x*+30deg@y"/>
    <connector name="c_rod2" trn=" 57.46 -30.47 35" rot="90deg@x*+30deg@y"/>
    <connector name="c_rod3" trn=" 46.46 -49.52 35" rot="90deg@x*-90deg@y"/>
    <connector name="c_rod4" trn="-46.46 -49.52 35" rot="90deg@x*-90deg@y"/>
    <connector name="c_rod5" trn="-57.46 -30.47 35" rot="90deg@x*+150deg@y"/>
    <connector name="c_rod6" trn="-11.00  50.00 35" rot="90deg@x*+150deg@y"/>
  </body>
  <body name="foot_l" trn="0 100 0" auto_mass="false" mass="0.340" center="0 0 14" inertia="0.000289 0.000752 0.000988">
    <connector name="c0"/>
    <connector name="c_mesh" rot="180deg@z"/>
    <connector name="c_torso"/>
    <connector name="c_rod1" trn=" 11.00 -50.00 35" rot="90deg@x*-30deg@y" />
    <connector name="c_rod2" trn=" 57.46  30.47 35" rot="90deg@x*-30deg@y" />
    <connector name="c_rod3" trn=" 46.46  49.52 35" rot="90deg@x*+90deg@y"/>
    <connector name="c_rod4" trn="-46.46  49.52 35" rot="90deg@x*+90deg@y"/>
    <connector name="c_rod5" trn="-57.46  30.47 35" rot="90deg@x*-150deg@y" />
    <connector name="c_rod6" trn="-11.00 -50.00 35" rot="90deg@x*-150deg@y" />
  </body>

  <attach shape="mesh_torso"   connector="torso/c_mesh"    />
  <attach shape="mesh_rodarm"  connector="rodarm_r1/c_mesh"/>
  <attach shape="mesh_rodarm"  connector="rodarm_r2/c_mesh"/>
  <attach shape="mesh_rodarm"  connector="rodarm_r3/c_mesh"/>
  <attach shape="mesh_rodarm"  connector="rodarm_r4/c_mesh"/>
  <attach shape="mesh_rodarm"  connector="rodarm_r5/c_mesh"/>
  <attach shape="mesh_rodarm"  connector="rodarm_r6/c_mesh"/>
  <attach shape="mesh_rodarm"  connector="rodarm_l1/c_mesh"/>
  <attach shape="mesh_rodarm"  connector="rodarm_l2/c_mesh"/>
  <attach shape="mesh_rodarm"  connector="rodarm_l3/c_mesh"/>
  <attach shape="mesh_rodarm"  connector="rodarm_l4/c_mesh"/>
  <attach shape="mesh_rodarm"  connector="rodarm_l5/c_mesh"/>
  <attach shape="mesh_rodarm"  connector="rodarm_l6/c_mesh"/>
  <attach shape="mesh_foot"    connector="foot_r/c_mesh"/>
  <attach shape="mesh_foot"    connector="foot_l/c_mesh"/>

  <hinge name="hinge_rodarm_r1" sock="torso/c_rodarm_r1" plug="rodarm_r1/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>
  <hinge name="hinge_rodarm_r2" sock="torso/c_rodarm_r2" plug="rodarm_r2/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>
  <hinge name="hinge_rodarm_r3" sock="torso/c_rodarm_r3" plug="rodarm_r3/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>
  <hinge name="hinge_rodarm_r4" sock="torso/c_rodarm_r4" plug="rodarm_r4/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>
  <hinge name="hinge_rodarm_r5" sock="torso/c_rodarm_r5" plug="rodarm_r5/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>
  <hinge name="hinge_rodarm_r6" sock="torso/c_rodarm_r6" plug="rodarm_r6/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>
  <hinge name="hinge_rodarm_l1" sock="torso/c_rodarm_l1" plug="rodarm_l1/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>
  <hinge name="hinge_rodarm_l2" sock="torso/c_rodarm_l2" plug="rodarm_l2/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>
  <hinge name="hinge_rodarm_l3" sock="torso/c_rodarm_l3" plug="rodarm_l3/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>
  <hinge name="hinge_rodarm_l4" sock="torso/c_rodarm_l4" plug="rodarm_l4/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>
  <hinge name="hinge_rodarm_l5" sock="torso/c_rodarm_l5" plug="rodarm_l5/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>
  <hinge name="hinge_rodarm_l6" sock="torso/c_rodarm_l6" plug="rodarm_l6/c_torso" pos="0deg" range="-80deg 45deg" vrange="-1000deg 1000deg" spring="1000000000" damper="50000000"/>

  <freejoint name="free_foot_r" sock="torso/c_foot_r" plug="foot_r/c_torso" pos="0 0 -500"/>
  <freejoint name="free_foot_l" sock="torso/c_foot_l" plug="foot_l/c_torso" pos="0 0 -500"/>

  <distance name="dist_foot_r1" sock="rodarm_r1/c_rod" plug="foot_r/c_rod1" distance="550"/>
  <distance name="dist_foot_r2" sock="rodarm_r2/c_rod" plug="foot_r/c_rod2" distance="550"/>
  <distance name="dist_foot_r3" sock="rodarm_r3/c_rod" plug="foot_r/c_rod3" distance="550"/>
  <distance name="dist_foot_r4" sock="rodarm_r4/c_rod" plug="foot_r/c_rod4" distance="550"/>
  <distance name="dist_foot_r5" sock="rodarm_r5/c_rod" plug="foot_r/c_rod5" distance="550"/>
  <distance name="dist_foot_r6" sock="rodarm_r6/c_rod" plug="foot_r/c_rod6" distance="550"/>
  <distance name="dist_foot_l1" sock="rodarm_l1/c_rod" plug="foot_l/c_rod1" distance="550"/>
  <distance name="dist_foot_l2" sock="rodarm_l2/c_rod" plug="foot_l/c_rod2" distance="550"/>
  <distance name="dist_foot_l3" sock="rodarm_l3/c_rod" plug="foot_l/c_rod3" distance="550"/>
  <distance name="dist_foot_l4" sock="rodarm_l4/c_rod" plug="foot_l/c_rod4" distance="550"/>
  <distance name="dist_foot_l5" sock="rodarm_l5/c_rod" plug="foot_l/c_rod5" distance="550"/>
  <distance name="dist_foot_l6" sock="rodarm_l6/c_rod" plug="foot_l/c_rod6" distance="550"/>
  
  <!--
    restriction of rod-end tilting angle
  -->
  <conic_limit name="limit_foot_r1" sock="rodarm_r1/c_rod" plug="foot_r/c_rod1" angle="30deg"/>
  <conic_limit name="limit_foot_r2" sock="rodarm_r2/c_rod" plug="foot_r/c_rod2" angle="30deg"/>
  <conic_limit name="limit_foot_r3" sock="rodarm_r3/c_rod" plug="foot_r/c_rod3" angle="30deg"/>
  <conic_limit name="limit_foot_r4" sock="rodarm_r4/c_rod" plug="foot_r/c_rod4" angle="30deg"/>
  <conic_limit name="limit_foot_r5" sock="rodarm_r5/c_rod" plug="foot_r/c_rod5" angle="30deg"/>
  <conic_limit name="limit_foot_r6" sock="rodarm_r6/c_rod" plug="foot_r/c_rod6" angle="30deg"/>
  <conic_limit name="limit_foot_l1" sock="rodarm_l1/c_rod" plug="foot_l/c_rod1" angle="30deg"/>
  <conic_limit name="limit_foot_l2" sock="rodarm_l2/c_rod" plug="foot_l/c_rod2" angle="30deg"/>
  <conic_limit name="limit_foot_l3" sock="rodarm_l3/c_rod" plug="foot_l/c_rod3" angle="30deg"/>
  <conic_limit name="limit_foot_l4" sock="rodarm_l4/c_rod" plug="foot_l/c_rod4" angle="30deg"/>
  <conic_limit name="limit_foot_l5" sock="rodarm_l5/c_rod" plug="foot_l/c_rod5" angle="30deg"/>
  <conic_limit name="limit_foot_l6" sock="rodarm_l6/c_rod" plug="foot_l/c_rod6" angle="30deg"/>

  <!-- contact group -->
  <contact_group all_bodies="true" enable="false"/>

  <!-- ik -->
  <ik name="ik_torso"  sock="torso/c0"     enable_trn="true" enable_rot="true" />
  <ik name="ik_foot_r" sock="foot_r/c0"    enable_trn="true" enable_rot="true" />
  <ik name="ik_foot_l" sock="foot_l/c0"    enable_trn="true" enable_rot="true" />
  <ikjoint name="ik_rodarm_r1" path="hinge_rodarm_r1"/>
  <ikjoint name="ik_rodarm_r2" path="hinge_rodarm_r2"/>
  <ikjoint name="ik_rodarm_r3" path="hinge_rodarm_r3"/>
  <ikjoint name="ik_rodarm_r4" path="hinge_rodarm_r4"/>
  <ikjoint name="ik_rodarm_r5" path="hinge_rodarm_r5"/>
  <ikjoint name="ik_rodarm_r6" path="hinge_rodarm_r6"/>
  <ikjoint name="ik_rodarm_l1" path="hinge_rodarm_l1"/>
  <ikjoint name="ik_rodarm_l2" path="hinge_rodarm_l2"/>
  <ikjoint name="ik_rodarm_l3" path="hinge_rodarm_l3"/>
  <ikjoint name="ik_rodarm_l4" path="hinge_rodarm_l4"/>
  <ikjoint name="ik_rodarm_l5" path="hinge_rodarm_l5"/>
  <ikjoint name="ik_rodarm_l6" path="hinge_rodarm_l6"/>
  <ikcom name="ik_com">
    <link path="../torso"/>
    <link path="../rodarm_r1"/>
    <link path="../rodarm_r2"/>
    <link path="../rodarm_r3"/>
    <link path="../rodarm_r4"/>
    <link path="../rodarm_r5"/>
    <link path="../rodarm_r6"/>
    <link path="../rodarm_l1"/>
    <link path="../rodarm_l2"/>
    <link path="../rodarm_l3"/>
    <link path="../rodarm_l4"/>
    <link path="../rodarm_l5"/>
    <link path="../rodarm_l6"/>
    <link path="../foot_r"/>
    <link path="../foot_l"/>
  </ikcom>
</namespace>
